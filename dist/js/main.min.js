"use strict";function initMap(){return MapModule.InitMap(google)}var pizzaApp=angular.module("pizzaApp",[]);pizzaApp.controller("MainController",["$scope","$window","$document",function(i,a,s){var e=angular.element(a).width(),o=0;o=e<=360?170:e>360&&e<=768?145:125,angular.element("body").scrollspy({target:".navbar",offset:o})}]),pizzaApp.factory("getData",["$http","$log",function(i,a){return{getJsonData:function(s,e){var o="files/"+s+".json";i.get(o).then(function(i,a,s,o){e(i)},function(i,s,e,o){a.warn(i,s,e,o)})}}}]),pizzaApp.filter("currencyComma",function(){return function(i){return i.toString().replace(".",",")}}),pizzaApp.directive("navigation",["$window","$document","$timeout","$q",function(i,a,s,e){return{restrict:"E",template:'<nav class="navbar navbar-default navbar-fixed-top scroll-navbar" role="navigation"><div class="navbar-header"><button class="btn btn-success navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="sr-only">Nawigacja</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button><div id="logo"><a href="#top"><h3>Pizzeria u Jakuba</h3><p class="text-info">Musisz spróbować naszych specjałów</p></a></div></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li class="nav-button active"><a href="#top">O Nas</a></li><li class="nav-button"><a href="#pizzaMenu">Pizza</a></li><li class="nav-button"><a href="#foodMenu">Jedzonko</a></li><li class="nav-button"><a href="#dishMenu">Zestawy Obiadowe</a></li><li class="nav-button"><a href="#promotion">Promocje</a></li><li class="nav-button"><a href="#contact">Kontakt</a></li></ul></div></nav>',scope:!1,link:function(a,e,o,c){var n,l=e.find(".scroll-navbar"),t=function(){i.pageYOffset>=300?l.addClass("shrink-navbar"):l.removeClass("shrink-navbar")};angular.element(i).on("scroll",function(){n=s(t,250)}),e.on("$destroy",function(){s.cancel(n)})}}}]),pizzaApp.directive("carousel",function(){return{restrict:"E",template:'<section class="row visible-md visible-lg carousel-div"><div class="carousel slide" id="theCarousel" data-interval="2000"><ol class="carousel-indicators"><li data-target="#theCarousel" data-slide-to="0" class="active"></li><li data-target="#theCarousel" data-slide-to="1"></li><li data-target="#theCarousel" data-slide-to="2"></li><li data-target="#theCarousel" data-slide-to="3"></li></ol><div class="carousel-inner"><div class="item active"><img src="img/fac1.jpg" alt="1" class="img-responsive"></div><div class="item"><img src="img/fac2.jpg" alt="2" class="img-responsive"></div><div class="item"><img src="img/fac3.jpg" alt="3" class="img-responsive"></div><div class="item"><img src="img/fac4.jpg" alt="4" class="img-responsive"></div></div><a href="#theCarousel" class="carousel-control left" data-slide="prev"><span class="icon-prev"></span></a> <a href="#theCarousel" class="carousel-control right" data-slide="next"><span class="icon-next"></span></a></div></section><section id="introduction"><div class="container well well-sm"><div class="col-sm-9 col-md-12"><p class="lead">Skosztuj najsmaczniejszej pizzy w okolicy!</p><ul class="list-unstyled"><li>Oferujemy pizze, zapiekanki, hamburgery oraz kebaby oparte na świeżych i wyselekcjonowanych składnikach, w które zaopatrujemy się bezpośrednio u lokalnych dostawców.</li><li>Zamówienia złożone w naszym lokalu dowozimy do domu klienta.</li><li>Zapraszamy na ręcznie wyrabiane pizze bez spulchniaczy czy dodatków piekarskich.</li><li><em>Od kwietnia do października zapraszamy także do naszego ogródka.</em></li></ul></div><div class="hidden-xs visible-sm-block hidden-md hidden-lg pull-right image-div-pad"><img src="img/fac1.jpg" alt="pizza" class="img-thumbnail"></div></div></section>',scope:!1,link:function(i,a,s,e){a.find("#theCarousel").carousel()}}}),pizzaApp.directive("pizzaMenu",function(){return{restrict:"E",template:'<div id="pizzaMenu" class="container"><div id="pizzaHeader" class="row sectionHeader"><div class="col-sm-8 col-xs-6"><h3>Pizza</h3></div><div class="col-sm-offset-1 col-sm-1 col-xs-2 pizza-badge"><h4 class="size">32 cm</h4></div><div class="col-sm-1 col-xs-2 pizza-badge"><h4 class="size">40 cm</h4></div><div class="col-sm-1 col-xs-2 pizza-badge"><h4 class="size">50 cm</h4></div></div><div id="pizzaBody"><div class="pizza row" ng-repeat="pizza in listOfPizza track by $index"><div class="col-sm-8 col-xs-6"><h4>{{pizza.Name}}</h4><p>{{pizza.Desc}}</p></div><div class="col-sm-offset-1 col-sm-1 col-xs-2 pizza-price">{{pizza.SmallPrice | currency:\'\':2 | currencyComma}}</div><div class="col-sm-1 col-xs-2 pizza-price">{{pizza.MediumPrice | currency:\'\':2 | currencyComma}}</div><div class="col-sm-1 col-xs-2 pizza-price">{{pizza.LargePrice | currency:\'\':2 | currencyComma}}</div></div></div><div id="pizzaFooter"><div class="row sectionHeader"><h3>Dodatki</h3></div><div class="pizzaExtras row" ng-repeat="add in listOfAdds track by $index"><div class="col-sm-8 col-xs-6"><h4>{{add.Name}}</h4></div><div class="col-sm-offset-1 col-sm-1 col-xs-2 pizza-price">{{add.SmallPrice | currency:\'\':2 | currencyComma}}</div><div class="col-sm-1 col-xs-2 pizza-price">{{add.MediumPrice | currency:\'\':2 | currencyComma}}</div><div class="col-sm-1 col-xs-2 pizza-price">{{add.LargePrice | currency:\'\':2 | currencyComma}}</div></div></div></div>',scope:!1,controller:["$scope","getData",function(i,a){a.getJsonData("pizza",function(a){i.listOfPizza=a.data}),a.getJsonData("dodatki",function(a){i.listOfAdds=a.data})}]}}),pizzaApp.directive("foodMenu",function(){return{restrict:"E",template:'<div id="foodMenu" class="container"><div id="foodHeader" class="row sectionHeader"><h3>Jedzonko</h3></div><div class="foodBody"><div class="food row" ng-repeat="food in listOfFood track by $index"><div class="col-sm-8 col-xs-8"><h4>{{food.Name}}</h4><p>{{food.Desc}}</p></div><div class="col-sm-offset-1 col-sm-3 food-price">{{food.Price | currency:\'\':2 | currencyComma}}</div></div></div></div>',scope:!1,controller:["$scope","getData",function(i,a){a.getJsonData("dania",function(a){i.listOfFood=a.data})}]}}),pizzaApp.directive("dishMenu",function(){return{restrict:"E",template:'<div id="dishMenu" class="container"><div id="dishHeader" class="row sectionHeader"><div class="col-sm-8 col-xs-6"><h3>Zestawy Obiadowe</h3></div><div class="col-sm-offset-1 col-sm-1 col-xs-3"><h4 class="size">&nbsp;Małe&nbsp;</h4></div><div class="col-sm-offset-1 col-sm-1 col-xs-3"><h4 class="size">&nbsp;Duże&nbsp;</h4></div></div><div class="dishBody"><div class="dish row" ng-repeat="dish in listOfDishes track by $index"><div class="col-sm-8 col-xs-6"><h4>{{dish.Name}}</h4><p>{{dish.Desc}}</p></div><div><div class="col-sm-offset-1 col-sm-1 col-xs-3 dish-price" ng-if="dish.numOfProp==3">{{dish.Price1 | currency:\'\':2 | currencyComma}}</div><div class="col-sm-offset-1 col-sm-1 col-xs-3 dish-price" ng-if="dish.numOfProp==3">{{dish.Price2 | currency:\'\':2 | currencyComma}}</div><div class="col-sm-offset-1 col-sm-3 col-xs-6 dish-price" ng-if="dish.numOfProp==2">{{dish.Price | currency:\'\':2 | currencyComma}}</div></div></div></div></div>',scope:!1,controller:["$scope","getData",function(i,a){a.getJsonData("zestawy",function(a){i.listOfDishes=a.data,angular.forEach(i.listOfDishes,function(i){var a=Object.keys(i).length;i.numOfProp=a})})}]}}),pizzaApp.directive("promotion",function(){return{restrict:"E",template:'<div id="promotion" class="container"><div id="promotionHeader" class="row sectionHeader"><h3>Promocje</h3></div><div class="promotionBody"><div class="col-xs-12 col-md-6 promotion1"><em>Jeden sos do pizzy GRATIS!</em><br><img src="img\\sauces.png" alt="sos do pizzy" class="img-responsive"></div><div class="col-xs-12 col-md-6 promotion2"><em>Zbieraj pieczątki z <span class="underline">dużej pizzy</span><br>10 pieczątek = <span class="underline">Duża pizza</span></em><br><img src="img\\pizza.png" alt="pizza" class="img-responsive"></div><div style="clear: both; border-bottom: 1px solid gray;"></div><div class="col-xs-12 col-md-6 promotion3"><em>Przy zamówieniu powyżej 50&nbsp;zł<br>1 litr pepsi gratis</em> <img src="img\\pepsi.png" alt="pepsi" class="img-responsive"></div><div class="col-xs-12 col-md-6 promotion4"><em>Rozwozimy zakupy z naszego sklepu<br>w cenach detalicznych</em> <img src="img\\shop.png" alt="zakupy" class="img-responsive"></div><div style="clear: both; border-bottom: 1px solid gray;"></div><div class="col-xs-12 col-md-6 promotion5"><em>Lody gałkowe i desery w lokalu</em> <img src="img\\dessert.jpg" alt="desery" class="img-responsive"></div><div class="col-xs-12 col-md-6 promotion6"><em>Nowości z grilla! Filet, kiełbasa, piwo&nbsp;lane</em> <img src="img\\grill.jpg" alt="grill" class="img-responsive"></div></div></div>',scope:!1}}),pizzaApp.directive("contact",function(){return{restrict:"E",template:'<section id="contact" class="row"><div id="address" class="col-sm-2 col-xs-6"><address><i class="glyphicon glyphicon-home"></i><br><span class="pizzeriaAddreess">Pizzeria u Jakuba<br>Posądza 95A<br>32-104 Proszowice</span><br><br><i class="glyphicon glyphicon-phone"></i> <span class="pizzeriaAddreess">887 202 102</span><br></address><div class="fb"><a href="https://www.facebook.com/pizzaujakuba"><i class="icon-facebook-squared"></i></a></div></div><div class="opening col-sm-3 col-xs-6"><i class="glyphicon glyphicon-time"></i><br><div class="dayOfWeek">Poniedziałek:&nbsp;12:00&nbsp;-&nbsp;22:00<br>Wtorek:&nbsp;12:00&nbsp;-&nbsp;22:00<br>Środa:&nbsp;12:00&nbsp;-&nbsp;22:00<br>Czwartek:&nbsp;12:00&nbsp;-&nbsp;22:00<br>Piątek:&nbsp;12:00&nbsp;-&nbsp;23:00<br>Sobota:&nbsp;12:00&nbsp;-&nbsp;23:00<br>Niedziela:&nbsp;12:00&nbsp;-&nbsp;22:00<br></div></div><div class="col-sm-offset-1 col-sm-6 col-xs-12 pull-right map-container"><div id="map"></div></div></section>',scope:!1,controller:["$scope","$timeout",function(i,a){this.initMap=function(){var i={lat:50.175347,lng:20.236888},s={center:i,zoom:10},e=new google.maps.Map(angular.element("#map")[0],s),o={position:i,map:e,title:"Pizzeria u Jakuba"},c=new google.maps.InfoWindow({content:"<b>Pizzeria u Jakuba</b><br/>Posądza 95A<br/>32-104 Proszowice"}),n=new google.maps.Marker(o);n.addListener("click",function(){n.setAnimation(google.maps.Animation.BOUNCE),a(function(){n.setAnimation(null),c.open(e,n)},700)});new google.maps.Circle({strokeColor:"#ff0000",strokeOpacity:.2,strokeWeight:2,fillColor:"#ff0000",fillOpacity:.2,map:e,center:i,radius:7500})}}],link:function(i,a,s,e){e.initMap()}}}),pizzaApp.directive("scrollSpyNav",["$window","$document","$timeout","$q",function(i,a,s,e){return{restrict:"A",link:function(i,a){a.find("nav a").on("click",function(i){i.preventDefault();var s=angular.element(i.target);s.is("a")||(s=s.parent("a")),e.when(a.find(".navbar-collapse.in").collapse("hide")).then(function(){angular.element("body, html").stop().animate({scrollTop:angular.element(s.attr("href")).offset().top-100},1500,"easeInOutExpo")})})}}}]);var MapModule=function(i){return{InitMap:function(a){var s={lat:50.175347,lng:20.236888},e={center:s,zoom:10},o=new a.maps.Map(i("#map")[0],e),c={position:s,map:o,title:"Pizzeria u Jakuba"},n=new a.maps.InfoWindow({content:"<b>Pizzeria u Jakuba</b><br/>Posądza 95A<br/>32-104 Proszowice"}),l=new a.maps.Marker(c);l.addListener("click",function(){l.setAnimation(a.maps.Animation.BOUNCE),setTimeout(function(){l.setAnimation(null),n.open(o,l)},700)});new a.maps.Circle({strokeColor:"#ff0000",strokeOpacity:.2,strokeWeight:2,fillColor:"#ff0000",fillOpacity:.2,map:o,center:s,radius:7500})}}}(jQuery);